(this.webpackJsonpmoneyflow=this.webpackJsonpmoneyflow||[]).push([[0],{34:function(e,t,n){e.exports={itemBox:"HomeView_itemBox__wuxIr"}},58:function(e,t,n){},59:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(16),r=n.n(c),s=(n(58),n(59),n(21)),o=n(8),i=n(20),l=n(10),u=n(7),j=n.n(u),d=n(9),b=n(12),h=n(19),m=n.n(h),O="https://mywalletflow.herokuapp.com",p=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat(O,"/categories"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat(O,"/movements/"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat(O,"/movements?type=last"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat(O,"/movements?type=balance"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(e){try{m.a.post("".concat(O,"/movements/"),e)}catch(t){console.log(t)}},y=function(){var e=Object(d.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.patch("".concat(O,"/movements/").concat(t),n);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),w=function(e){try{m.a.delete("".concat(O,"/movements/").concat(e))}catch(t){console.log(t)}},C=function(){var e=Object(d.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("".concat(O,"/users/login"),t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),a=e.t0.message,new Error(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),k=n(24),S=n(1);function M(e,t,n,a){var c=function(){return Object(S.jsxs)("div",{className:"container_toast",children:[null,Object(S.jsx)("p",{children:e})]})},r={position:a,autoClose:n,hideProgressBar:!0,closeOnClick:!0,draggable:!0,progress:void 0};"error"===t?k.b.error(c(),r):"success"===t?k.b.success(c(),r):k.b.warning(c(),r)}var T=n(99),B=n(97),D=n(47),Y=n(102),L=n(98),F=n(101),A=n(100),H=n(23),N=n.n(H),E=function(e){var t=e.categories,n=e.addModalShow,c=e.handleClose,r=e.setList,s=e.setBalance,o=Object(a.useState)({concept:"",date:N()(new Date).format("YYYY-MM-DD HH:mm"),category:"",amount:0,type:""}),u=Object(b.a)(o,2),h=u[0],m=u[1],O=function(e,t){m((function(n){return Object(l.a)(Object(l.a)({},n),{},Object(i.a)({},e,t))}))},p=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(h);case 2:setTimeout(Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,x();case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=s,e.next=8,g();case 8:e.t3=e.sent,(0,e.t2)(e.t3);case 10:case"end":return e.stop()}}),e)}))),2e3),c(),M("Movement added","success",4e3,"bottom-right");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(A.a,{show:n,onHide:c,children:[Object(S.jsxs)(A.a.Header,{children:[Object(S.jsx)(A.a.Title,{children:"Add a new movement"}),Object(S.jsx)("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:c})]}),Object(S.jsx)(A.a.Body,{children:Object(S.jsxs)(F.a,{children:[Object(S.jsxs)(B.a,{children:[Object(S.jsx)(D.a,{children:Object(S.jsx)(F.a.Control,{type:"date",name:"date",placeholder:"Date",defaultValue:N()(new Date).format("YYYY-MM-DD"),onChange:function(e){return O(e.target.name,N()(e.target.value).format("YYYY-MM-DD HH:mm"))}})}),Object(S.jsx)(D.a,{children:Object(S.jsxs)(L.a,{className:"mb-3",children:[Object(S.jsx)(L.a.Text,{children:"$"}),Object(S.jsx)(F.a.Control,{name:"amount",placeholder:"Amount",onChange:function(e){return O(e.target.name,e.target.value)}})]})})]}),Object(S.jsx)(B.a,{style:{marginBottom:"1rem"},children:Object(S.jsx)(D.a,{children:Object(S.jsx)(F.a.Control,{name:"concept",placeholder:"Concept",onChange:function(e){return O(e.target.name,e.target.value)}})})}),Object(S.jsxs)(B.a,{children:[Object(S.jsx)(D.a,{children:Object(S.jsxs)(F.a.Control,{as:"select",name:"type",placeholder:"Type",onChange:function(e){return O(e.target.name,e.target.value)},children:[Object(S.jsx)("option",{value:"",children:"Select a Type... "}),Object(S.jsx)("option",{value:"Outcome",children:"Outcome"}),Object(S.jsx)("option",{value:"Income",children:"Income"})]})}),Object(S.jsx)(D.a,{children:Object(S.jsxs)(F.a.Control,{name:"category",as:"select",placeholder:"Date",onChange:function(e){return O(e.target.name,e.target.value)},children:[Object(S.jsx)("option",{value:"",children:"Select a Category... "}),t.map((function(e){return Object(S.jsx)("option",{value:e,children:e},e)}))]})})]})]})}),Object(S.jsxs)(A.a.Footer,{children:[Object(S.jsx)(Y.a,{variant:"secondary",onClick:c,children:"Close"}),0===h.amount||""===h.category||""===h.type||""===h.concept?Object(S.jsx)(Y.a,{variant:"success",onClick:p,disabled:!0,children:"Save Changes"}):Object(S.jsx)(Y.a,{variant:"success",onClick:p,children:"Save Changes"})]})]})})},I=n(36),P=function(e){var t=e.addModalShow,n=e.handleClose,a=e.id,c=e.setList,r=e.setBalance,s=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(a),setTimeout(Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,x();case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=r,e.next=8,g();case 8:e.t3=e.sent,(0,e.t2)(e.t3);case 10:case"end":return e.stop()}}),e)}))),500),M("Movement deleted","error",2e3,"bottom-right"),n();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(A.a,{show:t,onHide:n,children:[Object(S.jsx)(A.a.Header,{children:Object(S.jsxs)(A.a.Title,{children:["Delete Movement ",a," ??? "]})}),Object(S.jsxs)(A.a.Body,{children:[Object(S.jsx)(Y.a,{variant:"secondary",onClick:function(){n()},children:"Close"}),Object(S.jsx)(Y.a,{variant:"danger",onClick:function(){s(a)},children:"Delete"})]})]})},V=function(e){var t=e.mov,n=e.setList,c=e.categories,r=e.setBalance,s=Object(a.useState)({concept:t.concept,date:t.date,category:t.category,amount:t.amount,type:t.type}),o=Object(b.a)(s,2),u=o[0],h=o[1],m=Object(a.useState)(!1),O=Object(b.a)(m,2),p=O[0],f=O[1],v=Object(a.useState)(!1),w=Object(b.a)(v,2),C=w[0],k=w[1],T=function(){f(!1===p)},L=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t.id,u);case 2:setTimeout(Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,x();case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=r,e.next=8,g();case 8:e.t3=e.sent,(0,e.t2)(e.t3);case 10:case"end":return e.stop()}}),e)}))),500),f(!1),M("Movement edited","success",2e3,"bottom-right");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(e,t,n){h((function(n){return Object(l.a)(Object(l.a)({},n),{},Object(i.a)({},e,t))}))},H=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(!0);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsx)(S.Fragment,{children:!1===p?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(D.a,{children:t.concept}),Object(S.jsx)(D.a,{children:t.amount}),Object(S.jsx)(D.a,{children:t.type}),Object(S.jsx)(D.a,{children:N()(t.date).format("YYYY-MM-DD HH:mm")}),Object(S.jsx)(D.a,{children:t.category}),Object(S.jsx)(D.a,{children:Object(S.jsxs)(B.a,{children:[Object(S.jsxs)(D.a,{children:[Object(S.jsx)(I.b,{onClick:function(e){return H(t.id)}}),Object(S.jsx)(P,{addModalShow:C,handleClose:function(){return k(!1)},id:t.id,setList:n,setBalance:r})]}),Object(S.jsx)(D.a,{onClick:function(e){return T(t.id)},children:Object(S.jsx)(I.a,{})})]})})]}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(D.a,{children:Object(S.jsx)(F.a.Control,{name:"concept",placeholder:"Concept",defaultValue:t.concept,onChange:function(e){A(e.target.name,e.target.value,t.id)},as:"textarea",rows:3})}),Object(S.jsx)(D.a,{children:Object(S.jsx)(F.a.Control,{name:"amount",placeholder:"Amount",defaultValue:t.amount,onChange:function(e){A(e.target.name,e.target.value,t.id)}})}),Object(S.jsx)(D.a,{children:t.type}),Object(S.jsx)(D.a,{children:Object(S.jsx)(F.a.Control,{type:"date",name:"date",placeholder:"Date",onChange:function(e){return A(e.target.name,N()(e.target.value).format("YYYY-MM-DD HH:mm"),t.id)},defaultValue:N()(t.date).format("YYYY-MM-DD")})}),Object(S.jsx)(D.a,{children:Object(S.jsx)(F.a.Control,{as:"select",name:"category",placeholder:"category",defaultValue:t.category,onChange:function(e){A(e.target.name,e.target.value,t.id)},children:c.map((function(e){return Object(S.jsx)("option",{value:e,children:e},e)}))})}),Object(S.jsx)(D.a,{children:Object(S.jsx)(B.a,{children:Object(S.jsxs)(D.a,{children:[0===u.amount||""===u.concept?Object(S.jsx)(Y.a,{variant:"success",onClick:L,disabled:!0,size:"sm",children:"Save"}):Object(S.jsx)(Y.a,{variant:"success",onClick:L,size:"sm",children:"Save"}),Object(S.jsx)(Y.a,{variant:"secondary",size:"sm",onClick:function(e){return T(t.id)},children:" Close"})]})})})]})})},_=n(34),G=n.n(_),z=function(e){var t=e.getLast,n=e.getAll,a=e.setAddModalShow,c=e.addModalShow,r=e.handleFilterChange,s=e.categories,o=e.setBalance,i=e.balance,l=e.filtredList,u=e.filters,j=e.setList,d=e.handleClose,b=e.subTotal,h=e.closeSesion;return Object(S.jsxs)(T.a,{children:[Object(S.jsxs)(B.a,{style:{Minheight:"3rem",marginTop:"0.8rem",marginBottom:"0.8rem"},children:[Object(S.jsxs)(D.a,{children:[" ",Object(S.jsx)(Y.a,{variant:"primary",onClick:function(){return t()},children:"Last movements"}),"  "]}),Object(S.jsxs)(D.a,{children:["  ",Object(S.jsx)(Y.a,{variant:"primary",onClick:function(){return n()},children:"All movements"})]}),Object(S.jsxs)(D.a,{children:["  ",Object(S.jsx)(Y.a,{variant:"primary",onClick:function(){return a(!0)},children:"Add a new movement"})]}),Object(S.jsxs)(D.a,{children:["   ",Object(S.jsx)(Y.a,{className:"ml-5",variant:"danger",onClick:function(){return h()},children:"Close Sesion"})]})]}),Object(S.jsxs)(B.a,{children:[Object(S.jsx)(D.a,{children:Object(S.jsxs)(L.a,{className:"mb-3",children:[Object(S.jsx)(L.a.Text,{children:"Type:"}),Object(S.jsxs)(F.a.Control,{as:"select",name:"type",placeholder:"Filter by",onChange:function(e){return r(e.target.name,e.target.value)},children:[Object(S.jsx)("option",{value:"all",children:"All"}),Object(S.jsx)("option",{value:"Outcome",children:"Outcome"}),Object(S.jsx)("option",{value:"Income",children:"Income"})]})]})}),Object(S.jsx)(D.a,{children:Object(S.jsxs)(L.a,{className:"mb-3",children:[Object(S.jsx)(L.a.Text,{children:"Category:"}),Object(S.jsxs)(F.a.Control,{as:"select",name:"category",placeholder:"Filter by",onChange:function(e){return r(e.target.name,e.target.value)},children:[Object(S.jsx)("option",{value:"all",children:"All"},"all"),null===s||void 0===s?void 0:s.map((function(e,t){return Object(S.jsx)("option",{value:e,children:e},t)}))]})]})})]}),Object(S.jsxs)(B.a,{style:{Minheight:"3rem",marginTop:"0.8rem",marginBottom:"0.8rem"},className:G.a.itemBox,children:[Object(S.jsx)(D.a,{children:Object(S.jsx)("h5",{children:"Concept"})}),Object(S.jsx)(D.a,{children:Object(S.jsx)("h5",{children:"Amount"})}),Object(S.jsx)(D.a,{children:Object(S.jsx)("h5",{children:"Type"})}),Object(S.jsx)(D.a,{children:Object(S.jsx)("h5",{children:"Date"})}),Object(S.jsx)(D.a,{children:Object(S.jsx)("h5",{children:"Category"})}),Object(S.jsx)(D.a,{children:Object(S.jsx)("h5",{children:"Tools"})})]}),null===l||void 0===l?void 0:l.map((function(e,t){return Object(S.jsx)(B.a,{style:{Minheight:"3rem",marginTop:"0.8rem",marginBottom:"0.8rem"},className:G.a.itemBox,children:Object(S.jsx)(V,{mov:e,index:t,setList:j,categories:s,setBalance:o})},t)})),Object(S.jsxs)(B.a,{style:{Minheight:"3rem",marginTop:"1rem",marginBottom:"0.8rem",marginRight:"2.5rem",textAlign:"right"},children:["all"!==u.type||"all"!==u.category?Object(S.jsxs)(D.a,{children:["SubTotal: $",b]}):null,Object(S.jsxs)(D.a,{children:["Total: $",i]})]}),Object(S.jsx)(E,{categories:s,addModalShow:c,handleClose:d,setList:j,setBalance:o})]})},$="SET_LOGGED",J="LOG_OUT",R=function(e){return{type:$,payload:e}},U=function(){var e=Object(a.useState)(),t=Object(b.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),o=Object(b.a)(r,2),u=o[0],h=o[1],m=Object(a.useState)(0),O=Object(b.a)(m,2),v=O[0],y=O[1],w=Object(a.useState)({type:"all",category:"all"}),C=Object(b.a)(w,2),k=C[0],T=C[1],B=Object(a.useState)(n),D=Object(b.a)(B,2),Y=D[0],L=D[1],F=Object(a.useState)(v),A=Object(b.a)(F,2),H=A[0],N=A[1],E=Object(a.useState)(!1),I=Object(b.a)(E,2),P=I[0],V=I[1],_=Object(s.b)();Object(a.useEffect)((function(){(function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,x();case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=y,e.next=8,g();case 8:return e.t3=e.sent,(0,e.t2)(e.t3),e.t4=h,e.next=13,p();case 13:e.t5=e.sent,(0,e.t4)(e.t5);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.useEffect)((function(){var e=[],t=[];e="all"===k.type?n:n.filter((function(e){return e.type===k.type})),t="all"===k.category?e:e.filter((function(e){return e.category===k.category})),L(t),t&&J(t)}),[k.type,k.category,n]);var G=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=c,e.next=4,f();case 4:e.t1=e.sent,(0,e.t0)(e.t1),M("Showing last 10 movemets","success",2e3,"bottom-right"),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(0),M("Opps, somethings happens!\ud83d\ude2e","error",2e3,"bottom-right");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,x();case 3:e.t1=e.sent,(0,e.t0)(e.t1),M("Showing all movemets","success",1500,"bottom-right");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(e){var t=0;return e.forEach((function(e){"Income"===e.type?t+=e.amount:t-=e.amount})),N(t)};return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(z,{getAll:$,getLast:G,setAddModalShow:V,addModalShow:P,handleClose:function(){return V(!1)},filters:k,balance:v,setBalance:y,setList:c,handleFilterChange:function(e,t){T((function(n){return Object(l.a)(Object(l.a)({},n),{},Object(i.a)({},e,t))}))},categories:u,filtredList:Y,subTotal:H,closeSesion:function(){return _(R(!1))}})})},W=function(){var e=Object(s.b)(),t=Object(a.useState)({email:"",password:""}),n=Object(b.a)(t,2),c=n[0],r=n[1],o=function(){var t=Object(d.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),C(c).then((function(t){e(R(t))})).catch((function(e){return console.log("Algo sali\xf3 mal")}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(S.jsx)(T.a,{className:"mt-5",children:Object(S.jsxs)(F.a,{onChange:function(e){!function(e){r((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(i.a)({},e.target.name,e.target.value))}))}(e)},children:[Object(S.jsxs)(F.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(S.jsx)(F.a.Label,{children:"Email address"}),Object(S.jsx)(F.a.Control,{type:"email",placeholder:"Enter email",name:"email"})]}),Object(S.jsxs)(F.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(S.jsx)(F.a.Label,{children:"Password"}),Object(S.jsx)(F.a.Control,{type:"password",placeholder:"Password",name:"password"})]}),Object(S.jsx)(Y.a,{variant:"primary",type:"submit",onClick:function(e){return o(e)},children:"Submit"})]})})},q=function(){var e=Object(s.c)((function(e){return e.logged}));return Object(S.jsx)(o.b,{basename:"/Challenge-Full-Stack-Alkemy",children:Object(S.jsx)(o.c,{children:e?Object(S.jsx)(o.a,{exact:!0,path:"/",component:U}):Object(S.jsx)(o.a,{component:W})})})};var K=function(){return Object(S.jsx)(q,{})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,103)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))},X=n(53),Z=(n(92),n(49)),ee=n(22),te=n(50),ne=n(51),ae=n(27),ce=n(52),re={logged:!1},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(l.a)(Object(l.a)({},e),{},{logged:t.payload});case J:return Object(l.a)(Object(l.a)({},e),{},{logged:!1});default:return e}},oe={key:"root",debug:!0,storage:n.n(ce).a},ie=Object(ae.a)(oe,se),le=Object(te.composeWithDevTools)(Object(ee.applyMiddleware)(ne.a)),ue=Object(ee.createStore)(ie,le),je={store:ue,persistor:Object(ae.b)(ue)},de=je.persistor,be=je.store;r.a.render(Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(s.a,{store:be,children:Object(S.jsx)(Z.a,{loading:null,persistor:de,children:Object(S.jsxs)(X.a,{children:[Object(S.jsx)(K,{}),Object(S.jsx)(k.a,{})]})})})}),document.getElementById("root")),Q()}},[[95,1,2]]]);
//# sourceMappingURL=main.34ee0687.chunk.js.map